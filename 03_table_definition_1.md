# テーブル定義書1
## 全体
- テーブルの命名規則に従っていない。テーブル名は小文字で複数形、スネークケースを使用。
 > テーブル名が命名規則にしたがっていません。テーブル名は小文字で複数形、スネークケースを利用してください。
- PKのidがない。
 > PKのIDが抜けいています。
- created_at,updated_atがすべてユーザ登録日時、更新日時になっている。
 > 各テーブルのcreated_at,updated_atがすべてユーザ登録日時、ユーザ更新日時になっています。
- 配送先テーブル、入荷テーブルがない。
 > 配送先テーブルがないので一人のユーザーが一つの配送先しか持つことができません。
 > 入荷の履歴を保存するためのテーブルがありませんが、どのように管理しますか？

## Admin
- PKとAUTOINCREMENTが抜けている。
 > PKとAUTOINCREMENが抜けいています。
- deviseでデフォルトで作られるカラム名と異なります。
 > id,email,passwordの前にadminがついていますが、テーブル名によってそれが管理者のカラムというのは判断できるので、必要ありません。またdeviseでデフォルトで作られるカラム名もそうなっているので確認してみましょう。

## Users
- user_l,user_fでは何を示しているのはわからない。
- deviseでデフォルトで作られるカラム名と異なります。
 > カラム名のuser_の部分は不要です。(理由は上のAdminのところと同じ)
- 住所に関するカラムが2つある。
 > 住所に関するカラムが2つ存在しています。
- member_statusがstring型になっている。
 > member_statusのdata型がstringになっています。保存する値がtrueかfalseのどちらか2択になる場合はboolean型、3択以上になる場合はenumを使用するのでinteger型になります。
- 郵便番号と電話番号がinteger型になっている。
 > 郵便番号、電話番号がinteger型になっています。integer型の場合、先頭がゼロだと正しく保存・表示がされません。また郵便番号や電話番号は計算に使う値ではないのでstring型となります。

## Products
- アーティストID、レーベルID、ジャンルIDにFKの設定がない。
 > アーティストID,レーベルID,ジャンルIDにFkの設定がありません。
- 在庫数カラムが不要。
 > 在庫数カラムがありますが、商品が入荷するたびに変更しますか？
- 在庫ステータスカラムが不要。
 > 在庫ステータスカラムがありますが、手動でステータスを切り替える場合だと、実際に在庫がなくなった時にステータスが合わなくなることが考えられます。
- 画像を保存するカラムのデータ型がtextになっています。
 > 画像を保存するカラムがtext型になっていますが、文字列が250文字以内に収まる場合はstring型にする方がベターです。
- ディスクIDを持っている。
 > 商品が1でディスクが多という関係なのでディスクIDは不要です。
- カラムの前にcdがついてる。
 > カラムの前にcd_とついていますが、テーブル名によってそれが商品のカラムだということが判断できるので不要です。

## Discs
- 外部キーはproducts_idになっている。
 > 外部キーがproducts_idになっています。正しくはproduct_idです。
- track_numではディスクをディスクを特定できない。
 > トラックNo.というカラム名ですが、このテーブルはdiscsなのでディスクNo.の方が適切です。

## Songs 
- PKがない。
 > PKの欄の◯が抜けています。
- 曲名カラムがinteger型になっている。
 > 曲名カラムがinteger型になっています。
- 曲順の管理が考慮されていない。
 > 曲順を保存するカラムがありませんが、どのように管理しますか？
- FKにAUTOINCREMENTがついている。
 > FKにACTOINCREMENTがついています。
- songはカラム名として不適切です。
 > songはカラム名として不適切です。〜nameのように意味がわかるようにしましょう。

## Labels
- PKがない。
 > PKが抜けています。
- products_idがある。
 > products_idがありますが、必要な理由を教えてください。
- labelはカラム名として不適切。
 > labelはカラム名として不適切です。〜nameのように意味がわかるようにしましょう。

## Artists
- PKがない。
 > PKが抜けています。
- products_idがある。
 >　products_idが必要な理由を教えてください。
- アーティスト名がinteger型になっている。
 > アーティスト名がinteger型になっています。
- FKにAUTOINCREMENTがついている。
 > FKにAUTOINCREMENTがついています。
- artistはカラム名として不適切。
 > artistはカラム名として不適切です。〜nameのように意味がわかるようにしましょう。

## Genre
- PKがない。
 > PKが抜けています。
- products_idがある。
 > products_idが必要な理由を教えてください。
- ジャンル名カラムがinteger型になっている。
 > ジャンル名カラムがintger型になっています。
- テーブル名が単数系になっている。
 > テーブル名が単数系になっています。
- FKにAUTOINCREMENTがついている。
 > FKにAUTOINCREMENTがついています。
- ジャンルはカラム名として不適切。
 > ジャンルはカラム名として不適切です。〜nameのように意味がわかるようにしましょう。

## CartItem
- PKがない。
 > PKが抜けています。
- 外部キーがproducts_idになっている。
 > 外部キーがproducts_idになっています。正しくはproduct_idです。
- buy numはスペースが入っていて、カラムとして使用できない。
 > buy numは間にスペースが入ってるのでカラムとして使用できません。複数の単語を使用する場合はアンダースコアで区切ってください。
- テーブル名が単数系になっている。
 > テーブル名が単数系になってます。
- 小計金額カラムがある。
 > 小計金額カラムがありますが、商品価格と購入枚数で計算可能なので不要です。
- FKにAUTOINCREMENTがついている。
 > FKにAUTOINCREMENTがついています。
- 購入枚数カラムとなっているが、購入が確定していないので不適切です。
 > 購入枚数カラムがありますが、この段階では購入がまだ確定していないので不適切です。

## Buy
- テーブル名が単数系になっている。
 > テーブル名が単数系になっています。
- テーブル名が管理者視点になっていない。
 > 管理者視点の場合、buyではなくordersの方が適切です。
- 購入詳細IDを持っている。
 > 購入詳細IDが必要な理由を教えてください。
- 支払い方法のカラムがstring型になっている。
 > 支払い方法のカラムがstring型になっています。enumで管理するのであればinteger型になります。
- stockカラムが支払い合計になっている。
 > 支払い合計のカラムがstockになっています。
- 購入日カラムがある。
 > 購入日カラムがありますが、レコードが作成された時に自動で入る値のcreated_atと同じではないでしょうか？
- 配送先郵便番号と宛名のカラムがない。
 > 配送先郵便番号と氏名はどこに保存されますか？
- payがカラムの説明と合っていない。
 > payカラムがカラムの説明とあっていません。

## BuyDetails
- テーブル名が管理者視点になっていない。
 > 管理者視点の場合、buy__detailsではなくorder_detailsの方が適切です。
- buy numはスペースが入っていて、カラムとして使用できない。
 > buy numは間にスペースが入っているので、カラムとして使用できません。複数の単語を使用する場合はアンダースコアで区切ってください。
- FK(buy_id)が抜けている。
 > 受注ID（FK）が抜けいています。
