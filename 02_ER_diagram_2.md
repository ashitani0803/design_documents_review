# ER図2
## 全体
- 配送先、入荷テーブルがない。
 > 入荷履歴を保存するためのテーブルがありませんが、どのように管理しますか？
 
## 管理者
- PKがない。
 > PKが存在しません。
- エンドユーザとのリレーションがある。
 > エンドユーザーとのリレーションがありますが、何か意図はありますか？
- 商品とのリレーションがある。
 > 商品とのリレーションがありますが、何か意図はありますか？

## エンドユーザ
- 名カラムがない。
 > 名カラムがありません。
- PKがユーザーIDになってる。
 > PKがユーザーIDになっています。

## カートアイテム
- PKがない。
 > PKがありません。
- 小計金額カラムがある。
 > 小計金額がありますが、商品テーブルの価格カラムから計算可能です。

## 購入
- 管理者視点では購入ではなく受注の方が適切。
 > 管理者視点では購入ではなく受注の方が適切です。
- 購入詳細とのリレーションが逆。
 > 購入履歴とのリレーションですが、この状態だと購入履歴（何をいくつ買ったか）が購入（レシートに当たる）を複数持つことになってしまいます。
- 購入日カラムがある。
 > 購入日カラムがありますが、レコードが作成時に自動で作成される登録日と同じではないでしょうか？
- 配送先の郵便番号と氏名がわからない。
 > 配送先の郵便番号と氏名はどこに保存されますか？
- 購入枚数カラムは購入がまだ確定していないので不適切。
 > 購入枚数カラムは購入がまだ確定していないので不適切です。
- 配送状況がわからない。
 > 配送状況はどうやって確認できますか？

## ディスク
- 商品とのリレーションが逆。
 > ディスクとのリレーションですが、この状態だと一つのディスクが複数の商品を持つことになります。
- トラックNo.というよりかはディスクNo.の方が適切。
 > トラックNo.というカラム名ですが、ディスクテーブル内のカラムなのでディスクNo.の方が適切です。

## 曲名
- ディスクとのリレーションが逆。
 > 曲名とのリレーションですが、この状態だと一つのディスクが複数の商品を持つことになってしまいます。
- 曲の順番がわからない。
 > 曲の順番はどのように管理しますか？
- テーブル名と役割が合っていない。
 > テーブル名が役割と合っていません。このテーブルが持つカラムは曲名だけではないと思います。

## 商品
 - 発売日がわからない。
  > 発売日はどのように判断しますか？発売日が登録日もしくは更新日と同じとは限りません。
 - ディスクID(FK)は不要。
  > ディスクID(FK)は不要です。
 - ディスク枚数カラムは不要。
  > ディスク枚数カラムがありますが、ディスクとのリレーションがあるので不要です。
 - 在庫数カラムは不要。
  > 在庫数カラムがありますが、商品登録の際に毎回変更するのでしょうか？別のテーブルからカラムを数値として取得できれば計算可能です。
 
## 購入詳細
 - FK(購入ID)がない。
  > 購入ID(FK)がありません。
 - 管理者視点では購入詳細ではなく受注詳細の方が適切。
  > 管理者視点では、テーブル名は購入詳細ではなく受注詳細の方が適切。
 - 小計金額というよりかは購入時価格の方が適切。
  > 小計金額のカラムがありますが、購入時の価格を保存するので購入時価格の方が適切です。
 
 ## ジャンル
  - ジャンルカラムは意味的に不適切。
   > ジャンルカラムは意味的に不適切です。~nameの方が適切です。
  
 ## レーベル
  - レーベルカラムは意味的に不適切。
   > レーベルカラムは意味てkに不適切です。~nameの方が適切です。
